<!DOCTYPE html>
<html>
  <head>
    <title>Monocle 3: a peek into the future</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style.css"/>
  </head>
  <body>
    <textarea id="source">

background-image: url(img/fp-tower/website-background.svg)

class: center, middle, white

.title[Monocle 3: a peek into the future]

<br>

by Julien Truffaut

---
layout: true

<div class="watermark">
  <a href="https://github.com/fp-tower">
    <img src="img/fp-tower/grey-4-fp-watermark-image-raster-transparent-file.png" alt="logo" style="width:200px;"/>
  </a>
</div>


---
# Agenda

<br>

## 1. Why optics?

## 2. Current state of Monocle

## 3. The future with Dotty/Scala 3

---
# Julien Truffaut


<br>

.medium-left[
<img src="img/fp-tower/julien-truffaut.jpg" alt="Julien Truffaut" style="width:300px;"/>
]

.sixty-two-right[<br>
.large[
* 10 year backend developer

* Contribute to several FP libraries

* Author of Scala FP courses at <br> fp-tower.com
]]

---
# Mutation

<br>


```scala mdoc:invisible
case class User(var name: String, var address: Address)

case class Address(var streetNumber: Int, var postCode: String)
```

```scala
case class User(`var` name: String, `var` address: Address)

case class Address(`var` streetNumber: Int, `var` postCode: String)
```


```scala mdoc
val julien = User("julien", Address(12, "E16 4SR"))
```

```scala mdoc:reset:invisible
case class User(var name: String, var address: Address)
case class Address(var streetNumber: Int, var postCode: String)

val julien = User("julien", Address(12, "E16 4SR"))
```

```scala mdoc
julien.address.streetNumber = 16

julien
```

---
# FP uses immutable data

<br>

## 1. Easier to test

## 2. Nice features: versioning, rollback

## 3. Share data without risk

## 4. Concurrency


---
# Concurrency

.small-left[
<img src="img/corecursive_400x400.jpg" alt="corecursive" style="width:300px;"/>

## CoRecursive podcast
]

.sixty-two-right[
<br><br><br>
## Rust and bitter C++ developers with Jim Blandy
]

???
We had an engineer at Mozilla who decided to use a thread sanitiser tool to look for data races
[in their C ++ codebase]... and he found that in every case where firefox use threads, they had data races,
not most, every single case.

---
# How do you change immutable data?

<br>

## TODO info graphics

.reference-bottom-right[<img src="img/impurepics/profile.png" alt="impurepics" style="width:100px;"/>]



---
class: center, middle

# Thank you, any questions?

<br>

.medium[
slides available at
<br>
<br>
https://fp-tower.github.io/monocle-3-a-peek-into-the-future/index.html
]


 </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js">
    </script>
    <script>
        var slideshow = remark.create({
            ratio: "16:9",
            slideNumberFormat: '',
            highlightLines: true,
            highlightSpans: true,
        });
    </script>
  </body>
</html>
